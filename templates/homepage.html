{% extends "base.html" %}

{% block title %}Homepage{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='homepage.css') }}">
{% endblock %}

{% block content %}

<div class="homepage-hero">
    <h1>Welcome to FLYTAU</h1>
    <nav class="homepage-nav">
        <a href="/login">Login</a>
        <a href="/signup">Sign Up</a>
        <a href="/adminlogin">Admin Login</a>
        <a href="/flight_board">Flight Board</a>
    </nav>
</div>

{% if error %}
    <p style="color:red;">{{ error }}</p>
{% endif %}

<div class="search-card">
    <h3>Search for a Flight</h3>

    <form action="/search_flights" method="POST">

        <div class="form-field">
            <label>Date:</label>
            <input type="date" name="flight_date" min="{{ today }}" required>
        </div>

        <div class="form-field">
            <label>From:</label>
            <select name="origin">
                {% for origin in origins %}
                    <option value="{{ origin[0] }}">{{ origin[0] }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-field">
            <label>To:</label>
            <select name="destination">
                {% for dest in destinations %}
                    <option value="{{ dest[0] }}">{{ dest[0] }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-field">
            <label>Passengers:</label>
            <input
                type="number"
                name="num_seats"
                min="1"
                max="6"
                value="1"
                required
            >
        </div>

        <input type="submit" value="Search Flights">
    </form>
</div>

{% if manage_booking_error %}
    <p style="color:red;">{{ manage_booking_error }}</p>
{% endif %}

<div class="manage-card">
    <h3>Manage my Booking</h3>

    <form action="/manage_booking" method="POST">

        <div class="form-field">
            <label>Booking ID</label>
            <input
                placeholder="Booking ID"
                autocomplete="off"
                type="text"
                name="booking_ID"
                required
            >
        </div>

        <div class="form-field">
            <label>Email</label>
            <input
                placeholder="Email"
                autocomplete="off"
                type="email"
                name="booking_email"
                required
            >
        </div>

        <input type="submit" value="To my Booking">
    </form>
</div>

{% endblock %}
