{% extends "base.html" %}

{% block title %}Available Flights{% endblock %}

{% block content %}

<h2>Available Flights for {{ requested_seats }} Passengers</h2>
<form action="/select_seats" method="POST">
    <input type="hidden" name="num_seats" value="{{ requested_seats }}">
<table border="1" cellpadding="8" cellspacing="0">
    <thead>
        <tr>
            <th>Select</th>
            <th>Flight ID</th>
            <th>Aircraft</th>
            <th>Class</th>
            <th>Departure date (From: {{ flights[0].origin if flights else '' }})</th>
            <th>Departure time</th>
            <th>Arrival date (To: {{ flights[0].destination if flights else '' }})</th>
            <th>Arrival time</th>
            <th>Price Per Seat</th>
            <th>Total Price</th>
        </tr>
</thead>
            <tbody>
                {% for flight in flights %}
                <tr>
                    <td>
                        <input type="radio" name="selected_option" value="{{ flight.id }},{{ flight.class_type }},{{flight.aircraft_id}}" required>
                    </td>
                    <td>{{flight.id}}</td>
                    <td>{{flight.aircraft_id}}</td>
                    <td>{{flight.class_type}}</td>
                    <td>{{flight.departure_date}}</td>
                    <td>{{flight.departure_time}}</td>
                    <td>{{flight.arrival_date}}</td>
                    <td>{{flight.arrival_time}}</td>
                    <td>{{flight.price}} USD</td>
                    <td>${{ flight.price * requested_seats|int }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <br>
        <input type="submit" value="Continue to Seat Selection">
    </form>

    <br>
    <a href="/">Back to Search</a>

{% endblock %}
